document.addEventListener('DOMContentLoaded', function() {
    // Smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });

    // Active navigation item highlighting
    const sections = document.querySelectorAll("section");
    const navItems = document.querySelectorAll(".nav-item");

    window.addEventListener("scroll", () => {
        let current = "";
        sections.forEach((section) => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            if (pageYOffset >= sectionTop - sectionHeight / 3) {
                current = section.getAttribute("id");
            }
        });

        navItems.forEach((item) => {
            item.classList.remove("active");
            if (item.querySelector("a").getAttribute("href").slice(1) === current) {
                item.classList.add("active");
            }
        });
    });

  // Populate key findings
    const keyFindings = [
        "Identified over 100 unique bioactive compounds across 29 plant species",
        "Discovered potential new sources of antioxidants and anti-inflammatory agents",
        "Uncovered novel compounds with promising anticancer properties",
        "Found plant extracts with significant antimicrobial activity against drug-resistant pathogens"
    ];

    const keyFindingsList = document.getElementById('keyFindings');
    keyFindings.forEach(finding => {
        const li = document.createElement('li');
        li.textContent = finding;
        keyFindingsList.appendChild(li);
    });

    // Populate medicinal properties
    const medicinalProperties = [
        { name: "Antibiotic", icon: "fas fa-bacteria" },
        { name: "Antihistamine", icon: "fas fa-allergies" },
        { name: "Anticancer", icon: "fas fa-ribbon" },
        { name: "Anti-inflammatory", icon: "fas fa-fire-alt" },
        { name: "Antioxidant", icon: "fas fa-shield-alt" },
        { name: "Antiviral", icon: "fas fa-virus-slash" }
    ];

    const propertiesGrid = document.getElementById('medicinalProperties');
    medicinalProperties.forEach(property => {
        const propertyCard = document.createElement('div');
        propertyCard.classList.add('property-card');
        propertyCard.innerHTML = `
            <i class="${property.icon}"></i>
            <h3>${property.name}</h3>
        `;
        propertiesGrid.appendChild(propertyCard);
    });

    // Dynamic plant gallery population
    const plantGallery = document.getElementById('plantGallery');
    const plantSpecies = [
        { name: 'Hortonia macrocarpa', image: 'plants/HM.jpg' },
        // Add other plants here, for example:
        // { name: 'Cinnamomum verum', image: 'plants/CV.jpg' },
        // { name: 'Murraya koenigii', image: 'plants/MK.jpg' },
        // ... Add all 29 plant species with their corresponding image paths
    ];

    plantSpecies.forEach((plant) => {
        const plantCard = document.createElement('div');
        plantCard.classList.add('plant-card');
        plantCard.innerHTML = `
            <img src="${plant.image}" alt="${plant.name}">
            <p>${plant.name}</p>
        `;
        plantGallery.appendChild(plantCard);
    });
});
